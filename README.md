# PyFactory - Python工厂教学游戏

## 项目简介

PyFactory是一款面向青少年的Python编程教学游戏，灵感来源于异形工厂(Shapez.io)。通过可视化的工厂建造和图形加工机制，让学习者在游戏中掌握Python编程的核心概念。

### 设计理念

将抽象的编程概念转化为直观的游戏元素：

| Python概念 | 游戏元素 | 说明 |
|-----------|---------|------|
| 变量 | 储物箱 | 存储和传递数据 |
| if/else | 分拣器 | 根据条件分流 |
| for/while | 循环器 | 重复执行操作 |
| 函数 | 机器蓝图 | 可复用的加工模块 |
| 列表 | 打包盒 | 有序存储多个元素 |
| 字典 | 标签柜 | 键值对存储 |
| 解包 | 拆包机 | 提取容器中的元素 |
| 列表推导式 | 批量加工线 | 高效批量处理 |

## 教学大纲依据

本项目以 **全国计算机等级考试二级Python** 大纲为依据设计关卡和知识点。

详见 `docs/教学大纲.md`

## 系统要求

- Python 3.8+
- Pygame 2.5+
- SQLite3 (Python内置)

## 安装与运行

```bash
# 进入项目目录
cd pyfactory

# 安装依赖
pip install -r requirements.txt

# 运行游戏
python main.py
```

## 默认账户

- 用户名: `x`
- 密码: `1`

## 游戏特性

### 1. 关卡模式
- 6大类别，16+个精心设计的关卡
- 循序渐进的难度设计
- 每关对应一个Python知识点
- 星级评价和时间挑战

### 2. 沙盒模式
- 自由建造工厂
- 无限制实验各种机器组合
- 保存和加载蓝图

### 3. 机器类型

**基础机器：**
- 源头 - 产生基础图形
- 输出口 - 收集最终产品
- 传送带 - 传输图形

**变换机器：**
- 染色机 - 改变图形颜色
- 切割机 - 将图形切成两半
- 旋转机 - 旋转图形90度
- 堆叠机 - 合并两个图形

**逻辑机器：**
- 分拣器 - 对应if/else条件分支
- 循环器 - 对应for/while循环
- 函数机 - 对应函数定义和复用

**数据结构机器：**
- 打包机 - 创建列表
- 拆包机 - 解包操作
- 标签机 - 创建字典
- 推导机 - 列表推导式

### 4. 代码编辑器
- 集成代码编辑器
- 语法高亮
- 实时查看对应的Python代码

### 5. 成就系统
- 7个成就等待解锁
- 激励持续学习

## 操作指南

| 操作 | 功能 |
|-----|------|
| 左键点击 | 放置/选择机器 |
| 右键拖拽 | 连接两台机器 |
| Delete键 | 删除选中机器 |
| Esc键 | 取消当前操作 |
| ▶按钮 | 运行工厂 |
| ⏸按钮 | 暂停工厂 |
| ↺按钮 | 重置工厂 |

## 项目结构

```
pyfactory/
├── main.py           # 主程序入口
├── config.py         # 配置文件
├── shapes.py         # 图形系统
├── machines.py       # 机器系统
├── game_engine.py    # 游戏引擎
├── database.py       # 数据库模块
├── ui.py             # UI系统
├── requirements.txt  # 依赖列表
├── README.md         # 项目说明
├── pyfactory.db      # SQLite数据库(运行后生成)
└── docs/
    └── 教学大纲.md   # 教学大纲文档
```

## 技术栈

- **游戏框架**: Pygame 2.5
- **数据库**: SQLite3
- **编程语言**: Python 3.8+
- **设计模式**: MVC、工厂模式、观察者模式

## 代码统计

项目Python代码行数超过2000行，满足课程要求。

## 注意事项

1. 发布时在`machines.py`中将`DEBUG`改为`False`，关闭调试输出

## 作者

PyFactory Team

## 许可

MIT License
